<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HCIA</title>

  <h:outputStylesheet library="webjars"
    name="bootstrap/3.3.6/css/bootstrap.min-jsf.css" />
  <h:outputStylesheet library="webjars"
    name="bootstrap/3.3.6/css/bootstrap-theme.min-jsf.css" />
  <h:outputStylesheet library="webjars"
    name="font-awesome/4.5.0/css/font-awesome.min-jsf.css" />
  <h:outputScript library="webjars" name="jquery/2.1.4/jquery.min.js" />
  <h:outputScript library="webjars"
    name="bootstrap/3.3.6/js/bootstrap.min.js" />

  <!-- custom style sheets and scripts -->
  <h:outputStylesheet name="css/jk.css" />
  <h:outputScript name="js/TableList.js" />
  <h:outputScript name="js/TreeView.js" />
  <h:outputScript name="js/InfoPanel.js" />
  <h:outputScript name="js/main.js" />
  
</h:head>
<h:body>
	
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container-fluid">
      <!-- left side menu -->
      <ul class="nav navbar-nav">
        <li><a id="upload-trigger" href="#"><span class="glyphicon glyphicon-upload"></span>Upload</a></li>
        <li><a href="#"><span class="glyphicon glyphicon-download"></span>Download</a></li>
      </ul>
      <!-- right side menu -->
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-envelope"></span> Contact</a></li>
        <li><a href="#"><span class="glyphicon glyphicon-question-sign"></span> Help</a></li>
      </ul>
    </div>
  </nav>

  <div class="container-fluid hcia-container">
    <!-- tree of tables -->
    <div class="col-md-2">
    	<!-- Get raw data from backing bean -->
    	<input type="hidden" id="raw-data" value="#{treeBean.jsonData}"/>
      <div class="hcia-treepanel">
        <ul id="tree-root" class="nav">
          <!-- table -->
          <!-- <li class="tree-root nav-header"><label class="tree-toggle">Table 1</label>
            <ul class="nav">
              column
              <h:panelGroup>
                <li><a class="tree-node" href="#" contenteditable="false">Column 1</a></li>
                <li><a class="tree-node" href="#" contenteditable="false">Column 2</a></li>
              </h:panelGroup>
            </ul>
          </li>
          <li class="tree-root nav-header"><label class="tree-toggle">Table 2</label>
            <ul class="nav">
              column
              <h:panelGroup>
                <li><a class="tree-node" href="#" contenteditable="false">Column 3</a></li>
                <li><a class="tree-node" href="#" contenteditable="false">Column 4</a></li>
              </h:panelGroup>
            </ul>
          </li> -->
        </ul>
      </div>
    </div>

    <div class="col-md-10">
      <div class="hcia-contentpanel">
        <!-- tab titles -->
        <ul class="nav nav-tabs">
          <li class="active"><a data-toggle="tab" href="#columntab">Columns</a></li>
          <li><a data-toggle="tab" href="#foreignkeytab">Foreign Keys</a></li>
        </ul>

        <!-- column tab -->
        <div class="tab-content">
          <!-- column table -->
          <div id="columntab" class="tab-pane fade in active">
            <div class="table-wrap">
              <table class="table table-striped table-bordered hcia-table">
                <thead>
                  <tr>
                    <th>Column Name</th>
                    <th>Data Type</th>
                    <th>NN</th>
                    <th>PK</th>
                    <th>FK</th>
                    <th>AI</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody class="table-info">
                  <!-- columns information go here -->
                </tbody>
              </table>
            </div>
            <!-- column table ends here -->

            <!-- column detail go here -->
            <div class="detail-wrap">
              <div class="heading">
                <h2 style="border-bottom: 5px solid #03a9f4;">Detail</h2>
              </div>
              <div class="col-md-6">
                <div class="row form-group">
                  <label>Column Name: </label>
                  <input id="col-name-detail" type="text" class="form-control input-form" />
                </div>
                <div class="row form-group">
                  <label>Data Type: </label>
                  <select id="col-type-detail" class="col-type-detail form-control input-form">
                  <option value="VARCHAR">VARCHAR()</option>
                  <option value="INTEGER">INTEGER</option>
	              <option value="DOUBLE">DOUBLE</option>
	              <option value="DATE">DATE</option>
	              <option value="FLOAT">FLOAT</option>
                  </select>
                </div>
                <div class="row form-group">
                  <label>Length: </label>
                  <input id="col-length-detail" type="text" class="form-control input-form" />
                </div>
              </div>
              <div class="col-md-6">
                <div class="row" style="padding: 30px 0px 0px 40px">
                  <div class="form-group col-md-6">
                    <input id="col-pk-detail" type="checkbox" />
                    <label>Primary key</label>
                    <br/>
                    <input id="col-nn-detail" type="checkbox" />
                    <label>Not null</label>
                    <br/>
                  </div>
                  <div class="form-group col-md-6">
                    <input id="col-fk-detail" type="checkbox" />
                    <label>Foreign key</label>
                    <br/>
                    <input id="col-ai-detail" type="checkbox" />
                    <label>Auto increment</label>
                    <br/>
                  </div>
                </div>
              </div>
            </div>
            <!-- column detail ends here -->
          </div>
          
          <!-- foreign key tab -->
          <div id="foreignkeytab" class="tab-pane fade">
            <div class="table-wrap">
              <table class="table table-striped table-bordered hcia-table">
                <thead>
                  <tr>
                    <th>Type</th>
                    <th>Column</th>
                    <th>Refer Table</th>
                    <th>Refer Column</th>
                  </tr>
                </thead>
                <tbody class="relationship-info">
                </tbody>
              </table>
            </div>
          
            <div class="detail-wrap">
              <div class="heading">
                <h2 style="border-bottom: 5px solid #03a9f4;">Detail</h2>
              </div>
              <div class="col-md-6 hcia-reladetail">
                <div class="row form-group">
                  <label>Table Name: </label>
                  <input id="rela-table-detail" type="text" class="form-control input-form" />
                </div>
                <div class="row form-group">
                  <label>Column Name: </label>
                  <input id="rela-col-detail" type="text" class="form-control input-form" />
                </div>
              </div>
              <div class="col-md-6 hcia-reladetail">
                <div class="row form-group">
                  <label>Reference Table: </label>
                  <select id="rela-rftable-detail" class="form-control"/>
                </div>
                <div class="row form-group">
                  <label>Reference Column: </label>
                  <select id="rela-rfcol-detail" class="form-control"/>
                </div>
              </div>

            </div><!-- detail wrap of pk tab -->
          </div>
          <!-- command button -->
          <div class="hcia-tblaction">
            <h:commandButton styleClass="btn btn-danger hcia-btnright" value="Cancel" />
            <h:commandButton styleClass="btn btn-info hcia-btnright" value="Save" />
          </div>

        </div><!-- tab content -->
    
      </div><!-- hcia content tab -->
    </div><!-- col-md-10 -->
  </div><!-- container-fluid for main content -->
  
  <!-- Upload Modal -->
  <div class="modal fade" id="uploadModal" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
						<strong>Upload File</strong>
					</h4>
				</div>
				<div class="modal-body">
					<h4>Select file from your computer</h4>
					<h:form id="xml-form" enctype="multipart/form-data">
						<h:inputFile id="input-file" value="#{fileUploadBean.file}"
							validator="#{fileUploadBean.validateFile}" />
						<h:message style="color:red" for="input-file" />
						<br></br>
						<h:commandButton value="Upload" action="#{fileUploadBean.upload}">
							<f:ajax execute="xml-form" render="xml-form" />
						</h:commandButton>
					</h:form>
					<h:panelGroup layout="block" id="xml-pane"
						rendered="#{fileUploadBean.validPass == 'true'}">
						<script type="text/javascript">
							$('#uploadModal').modal('hide');
						</script>
					</h:panelGroup>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
</h:body>
</html>
